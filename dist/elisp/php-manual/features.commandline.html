<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Using PHP from the command line</title>
 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.safe-mode.functions.html">Functions restricted/disabled by safe mode</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="funcref.html">Function Reference</a></div>
 <div class="up"><a href="features.html">Features</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
 <h1>Using PHP from the command line</h1>

 <p class="para">
  As of version 4.3.0, PHP supports a new
  <i>SAPI</i> type (<i>Server Application Programming Interface</i>)
  named <i>CLI</i> which means <em class="emphasis">Command Line
  Interface</em>. As the name implies, this <i>SAPI</i> type
  main focus is on developing shell (or desktop as well) applications with
  PHP.  There are quite a few differences between the
  <i>CLI SAPI</i> and other <i>SAPI</i>s which are
  explained in this chapter.  It&#039;s worth mentioning
  that <i>CLI</i> and <i>CGI</i> are different
  SAPI&#039;s although they do share many of the same behaviors.
 </p>
 <p class="para">
  The <i>CLI SAPI</i> was released for the first time with
  PHP 4.2.0, but was still experimental and had
  to be explicitly enabled with <span class="option">--enable-cli</span> when running
  <strong class="command">./configure</strong>.  Since PHP 4.3.0 the
  <i>CLI SAPI</i> is no longer experimental and the option
  <span class="option">--enable-cli</span> is on by default.  You may use
  <span class="option">--disable-cli</span> to disable it.
 </p>
 <p class="para">
  As of PHP 4.3.0, the name, location and existence of the CLI/CGI binaries
  will differ depending on how PHP is installed on your system.  By default
  when executing <strong class="command">make</strong>, both the CGI and CLI are built and
  placed as <var class="filename">sapi/cgi/php-cgi</var> and <var class="filename">sapi/cli/php</var> 
  respectively, in your PHP source directory.  You will note that both are
  named php. What happens during <strong class="command">make install</strong> depends on
  your configure line.  If a module SAPI is chosen during configure, such as apxs, or the
  <span class="option">--disable-cgi</span> option is used, the CLI is copied to
  <var class="filename">{PREFIX}/bin/php</var> during <strong class="command">make install</strong>
  otherwise the CGI is placed there.  So, for example, if <span class="option">--with--apxs
  </span> is in your configure line then the CLI is copied to
  <var class="filename">{PREFIX}/bin/php</var> during <strong class="command">make
  install</strong>. If you want to override the installation of the CGI
  binary, use <strong class="command">make install-cli</strong> after <strong class="command">make
  install</strong>.  Alternatively you can specify <span class="option">
  --disable-cgi</span> in your configure line.
 </p>
 <blockquote><p><b class="note">Note</b>: 
  
   Because both <span class="option">--enable-cli</span> and
   <span class="option">--enable-cgi</span> are enabled by default,
   simply having <span class="option">--enable-cli</span> in your
   configure line does not necessarily mean the CLI will be copied as
   <var class="filename">{PREFIX}/bin/php</var> during <strong class="command">make install</strong>.
  <br />
 </p></blockquote>
 <p class="para">
  The Windows packages between PHP 4.2.0 and PHP 4.2.3 distributed the CLI as
  <var class="filename">php-cli.exe</var>, living in the same folder as the CGI
  <var class="filename">php.exe</var>. Starting with PHP 4.3.0 the Windows package
  distributes the CLI as <var class="filename">php.exe</var> in a separate folder
  named <var class="filename">cli</var>, so <var class="filename">cli/php.exe
  </var>. Starting with PHP 5, the CLI is distributed in the main folder,
  named  <var class="filename">php.exe</var>. The CGI version is distributed as
  <var class="filename">php-cgi.exe</var>.
 </p>
 <p class="para">
  As of PHP 5, a new <var class="filename">php-win.exe</var> file is distributed.
  This is equal to the CLI version, except that php-win doesn&#039;t output
  anything and thus provides no console (no &quot;dos box&quot; appears on the screen).
  This  behavior is similar to php-gtk. You should configure with
  <span class="option">--enable-cli-win32</span>.
 </p>
 <blockquote><p><b class="note">Note</b>: 
  <b>What SAPI do I have?</b><br />
  
   From a shell, typing <strong class="command">php -v</strong> will tell you
   whether <var class="filename">php</var> is CGI or CLI.  See also the function
   <a href="function.php-sapi-name.html" class="function">php_sapi_name()</a> and the constant <b><tt class="constant">
   PHP_SAPI</tt></b>.
  <br />
 </p></blockquote>
 <blockquote><p><b class="note">Note</b>: 
  
   A Unix <i>man</i>ual page was added in PHP 4.3.2.  You may 
   view this by typing <strong class="command">man php</strong> in your shell environment.
  <br />
 </p></blockquote>
 <p class="para">
  Remarkable differences of the <i>CLI SAPI</i> compared to other
  <i>SAPI</i>s:
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Unlike the <i>CGI SAPI</i>, no headers are written to the
     output.
    </p>
    <p class="para">
     Though the <i>CGI SAPI</i> provides a way to suppress HTTP
     headers, there&#039;s no equivalent switch to enable them in the <i>CLI
     SAPI</i>.
    </p>
    <p class="para">
     CLI is started up in quiet mode by default, though the <span class="option">-q</span>
     and <span class="option">--no-header</span> switches are kept for compatibility so
     that you can use older CGI scripts.
    </p>
    <p class="para">
     It does not change the working directory to that of the script.
     (<span class="option">-C</span> and <span class="option">--no-chdir</span> switches kept for
     compatibility)
    </p>
    <p class="para">
     Plain text error messages (no HTML formatting).
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     There are certain <var class="filename">php.ini</var> directives which are overridden by the <i>CLI
     SAPI</i> because they do not make sense in shell environments:
    </p>
    <p class="para">
     </p><table class="doctable table">
      <caption><b>Overridden <var class="filename">php.ini</var> directives</b></caption>
      
       <thead valign="middle">
        <tr valign="middle">
         <th>Directive</th>
         <th><i>CLI SAPI</i> default value</th>
         <th>Comment</th>
        </tr>

       </thead>

       <tbody valign="middle" class="tbody">
        <tr valign="middle">
         <td align="left"><a href="errorfunc.configuration.html#ini.html-errors" class="link">html_errors</a></td>
         <td align="left"><b><tt class="constant">FALSE</tt></b></td>
         <td align="left">
          It can be quite hard to read the error message in your shell when
          it&#039;s cluttered with all those meaningless HTML
          tags, therefore this directive defaults to <b><tt class="constant">FALSE</tt></b>.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><a href="outcontrol.configuration.html#ini.implicit-flush" class="link">implicit_flush</a></td>
         <td align="left"><b><tt class="constant">TRUE</tt></b></td>
         <td align="left">
          It is desired that any output coming from
          <a href="function.print.html" class="function">print()</a>, <a href="function.echo.html" class="function">echo()</a> and friends is
          immediately written to the output and not cached in any buffer. You
          still can use <a href="ref.outcontrol.html" class="link">output buffering</a>
          if you want to defer or manipulate standard output.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><a href="info.configuration.html#ini.max-execution-time" class="link">max_execution_time</a></td>
         <td align="left">0 (unlimited)</td>
         <td align="left">
          Due to endless possibilities of using PHP in
          shell environments, the maximum execution time has been set to
          unlimited. Whereas applications written for the web are often
          executed very quickly, shell application tend to have a much
          longer execution time.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><a href="ini.core.html#ini.register-argc-argv" class="link">register_argc_argv</a></td>
         <td align="left"><b><tt class="constant">TRUE</tt></b></td>
         <td align="left">
         <p class="para">
          Because this setting is <b><tt class="constant">TRUE</tt></b> you will always have access to
          <em class="emphasis">argc</em> (number of arguments passed to the 
          application) and <em class="emphasis">argv</em> (array of the actual
          arguments) in the <i>CLI SAPI</i>.
         </p>
         <p class="para">
          As of PHP 4.3.0, the PHP variables <var class="varname"><a href="reserved.variables.argc.html" class="classname">$argc</a></var>
          and <var class="varname"><a href="reserved.variables.argv.html" class="classname">$argv</a></var> are registered and filled in with the appropriate 
          values when using the <i>CLI SAPI</i>. Prior to this version,
          the creation of these variables behaved as they do in
          <i>CGI</i> and <i>MODULE</i> versions
          which requires the PHP directive
          <a href="ini.core.html#ini.register-globals" class="link">register_globals</a> to
          be <em class="emphasis">on</em>.  Regardless of version or register_globals
          setting, you can always go through either 
          <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var> or 
          <var class="varname">$HTTP_SERVER_VARS</var>.  Example:
          <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['argv']</a></var>
         </p>
         </td>
        </tr>

       </tbody>
      
     </table>
<p>
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      These directives cannot be initialized with another value from the
      configuration file <var class="filename">php.ini</var> or a custom one (if specified). This is a
      limitation because those default values are applied after all
      configuration files have been parsed. However, their value can be changed
      during runtime (which does not make sense for all of those directives,
      e.g. <a href="ini.core.html#ini.register-argc-argv" class="link">register_argc_argv</a>).
     <br />
    </p></blockquote>
   </li>
   <li class="listitem">
    <p class="para">
     To ease working in the shell environment, the following constants
     are defined:
     </p><table class="doctable table">
      <caption><b>CLI specific Constants</b></caption>
      
       <thead valign="middle">
        <tr valign="middle">
         <th>Constant</th>
         <th>Description</th>
        </tr>

       </thead>

       <tbody valign="middle" class="tbody">
        <tr valign="middle">
         <td align="left"><b><tt class="constant">STDIN</tt></b></td>
         <td align="left">
          <p class="para">An already opened stream to <i>stdin</i>. This saves
         opening it with
         </p><div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$stdin&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stdin'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
         </div>
<p>
         If you want to read single line from <i>stdin</i>, you can
         use
         </p><div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;reads&nbsp;one&nbsp;line&nbsp;from&nbsp;STDIN<br /></span><span style="color: #0000BB">fscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"%d\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;reads&nbsp;number&nbsp;from&nbsp;STDIN<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
         </div>
<p>
         </p></td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt class="constant">STDOUT</tt></b></td>
         <td align="left"><p class="para">
         An already opened stream to <i>stdout</i>. This saves
         opening it with
         </p><div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$stdout&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stdout'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
         </div>
<p>
         </p></td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt class="constant">STDERR</tt></b></td>
         <td align="left">
          <p class="para">
           An already opened stream to <i>stderr</i>.
           This saves opening it with
           </p><div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$stderr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stderr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
           </div>
<p>
          </p>
         </td>
        </tr>

       </tbody>
      
     </table>
<p>
    </p>
    <p class="para">
     Given the above, you don&#039;t need to open e.g. a stream for
     <i>stderr</i> yourself but simply use the constant instead of
     the stream resource:
     </p><div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">php -r &#039;fwrite(STDERR, &quot;stderr\n&quot;);&#039;</pre>
</div>
     </div>
<p>
     You do not need to explicitly close these streams, as they are closed
     automatically by PHP when your script ends.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      These constants are not available in case of reading PHP script from
      <i>stdin</i>.
     <br />
    </p></blockquote>
   </li>
   <li class="listitem">
    <p class="para">
     The <i>CLI SAPI</i> does <em class="emphasis">not</em> change the current directory to the directory
     of the executed script!
    </p>
    <div class="informalexample">
     <p class="para">
      Example showing the difference to the <i>CGI SAPI</i>:
     </p>
     <div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Our&nbsp;simple&nbsp;test&nbsp;application&nbsp;named&nbsp;test.php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">getcwd</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <p class="para">
      When using the <i>CGI</i> version, the output is:
     </p>
     <div class="example-contents screen">
<div class="cdata"><pre>
$ pwd
/tmp

$ php -q another_directory/test.php
/tmp/another_directory
</pre></div>
     </div>
     <p class="para">
      This clearly shows that PHP changes its current
      directory to the one of the executed script.
     </p>
     <p class="para">
      Using the <i>CLI SAPI</i> yields:
     </p>
     <div class="example-contents screen">
<div class="cdata"><pre>
$ pwd
/tmp

$ php -f another_directory/test.php
/tmp
</pre></div>
     </div>
     <p class="para">
      This allows greater flexibility when writing shell tools in PHP.
     </p>
    </div>
    <blockquote><p><b class="note">Note</b>: 
     
      The <i>CGI SAPI</i> supports this <i>CLI SAPI</i>
      behaviour by means of the <span class="option">-C</span> switch when run from the
      command line.
     <br />
    </p></blockquote>
   </li>
  </ul><p>
 </p>
 <p class="para">
  The list of command line options provided by the PHP
  binary can be queried anytime by running PHP with the
  <span class="option">-h</span> switch:
  <div class="example-contents screen">
<div class="cdata"><pre>
Usage: php [options] [-f] &lt;file&gt; [--] [args...]
       php [options] -r &lt;code&gt; [--] [args...]
       php [options] [-B &lt;begin_code&gt;] -R &lt;code&gt; [-E &lt;end_code&gt;] [--] [args...]
       php [options] [-B &lt;begin_code&gt;] -F &lt;file&gt; [-E &lt;end_code&gt;] [--] [args...]
       php [options] -- [args...]
       php [options] -a

  -a               Run interactively
  -c &lt;path&gt;|&lt;file&gt; Look for php.ini file in this directory
  -n               No php.ini file will be used
  -d foo[=bar]     Define INI entry foo with value &#039;bar&#039;
  -e               Generate extended information for debugger/profiler
  -f &lt;file&gt;        Parse and execute &lt;file&gt;.
  -h               This help
  -i               PHP information
  -l               Syntax check only (lint)
  -m               Show compiled in modules
  -r &lt;code&gt;        Run PHP &lt;code&gt; without using script tags &lt;?..?&gt;
  -B &lt;begin_code&gt;  Run PHP &lt;begin_code&gt; before processing input lines
  -R &lt;code&gt;        Run PHP &lt;code&gt; for every input line
  -F &lt;file&gt;        Parse and execute &lt;file&gt; for every input line
  -E &lt;end_code&gt;    Run PHP &lt;end_code&gt; after processing all input lines
  -H               Hide any passed arguments from external tools.
  -s               Display colour syntax highlighted source.
  -v               Version number
  -w               Display source with stripped comments and whitespace.
  -z &lt;file&gt;        Load Zend extension &lt;file&gt;.

  args...          Arguments passed to script. Use -- args when first argument
                   starts with - or script is read from stdin

  --ini            Show configuration file names

  --rf &lt;name&gt;      Show information about function &lt;name&gt;.
  --rc &lt;name&gt;      Show information about class &lt;name&gt;.
  --re &lt;name&gt;      Show information about extension &lt;name&gt;.
  --ri &lt;name&gt;      Show configuration for extension &lt;name&gt;.
</pre></div>
  </div>
 </p>
 <p class="para">
  The <i>CLI SAPI</i> has three different ways of getting the
  PHP code you want to execute:
  </p><ol type="1">
   <li class="listitem">
    <p class="para">
     Telling PHP to execute a certain file.
    </p>
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
php my_script.php

php -f my_script.php
</pre></div>
     </div>
    </div>
    <p class="para">
     Both ways (whether using the <span class="option">-f</span> switch or not) execute
     the file <var class="filename">my_script.php</var>. You can choose any file to
     execute - your PHP scripts do not have to end with the
     <i>.php</i> extension but can have any name or extension
     you wish.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      If you need to pass arguments to your scripts you need to pass
      <i>--</i> as the first argument when using the
      <span class="option">-f</span> switch.
     <br />
    </p></blockquote>
   </li>
   <li class="listitem">
    <p class="para">
     Pass the PHP code to execute directly on the command
     line.
    </p>
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
php -r &#039;print_r(get_defined_constants());&#039;
</pre></div>
     </div>
    </div>
    <p class="para">
     Special care has to be taken in regards of shell variable substitution and
     quoting usage.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      Read the example carefully, there are no beginning or ending tags! The
      <span class="option">-r</span> switch simply does not need them. Using them will
      lead to a parser error.
     <br />
    </p></blockquote>
   </li>
   <li class="listitem">
    <p class="para">
     Provide the PHP code to execute via standard input
     (<i>stdin</i>).
    </p>
    <p class="para">
     This gives the powerful ability to dynamically create
     PHP code and feed it to the binary, as shown in this
     (fictional) example:
    </p>
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
$ some_application | some_filter | php | sort -u &gt;final_output.txt
</pre></div>
     </div>
    </div>
   </li>
  </ol><p>
  You cannot combine any of the three ways to execute code.
 </p>
 <p class="para">
  Like every shell application, the PHP binary
  accepts a number of arguments but your PHP script can
  also receive arguments. The number of arguments which can be passed to your script
  is not limited by PHP (the shell has a certain size limit
  in the number of characters which can be passed; usually you won&#039;t hit this
  limit). The arguments passed to your script are available in the global
  array <var class="varname"><a href="reserved.variables.argv.html" class="classname">$argv</a></var>. The zero index always contains the script
  name (which is <i>-</i> in case the PHP code
  is coming from either standard input or from the command line switch
  <span class="option">-r</span>). The second registered global variable is
  <var class="varname"><a href="reserved.variables.argc.html" class="classname">$argc</a></var> which contains the number of elements in the
  <var class="varname"><a href="reserved.variables.argv.html" class="classname">$argv</a></var> array (<em class="emphasis">not</em> the
  number of arguments passed to the script).
 </p>
 <p class="para">
  As long as the arguments you want to pass to your script do not start with
  the <i>-</i> character, there&#039;s nothing special to watch out
  for. Passing an argument to your script which starts with a
   <i>-</i> will cause trouble because PHP
   itself thinks it has to handle it. To prevent this, use the argument list
   separator <i>--</i>. After this separator has been parsed by
   PHP, every argument following it is passed
   untouched to your script.
 </p>
 <div class="informalexample">
  <div class="example-contents screen">
<div class="cdata"><pre>
# This will not execute the given code but will show the PHP usage
$ php -r &#039;var_dump($argv);&#039; -h
Usage: php [options] [-f] &lt;file&gt; [args...]
[...]

# This will pass the &#039;-h&#039; argument to your script and prevent PHP from showing it&#039;s usage
$ php -r &#039;var_dump($argv);&#039; -- -h
array(2) {
  [0]=&gt;
  string(1) &quot;-&quot;
  [1]=&gt;
  string(2) &quot;-h&quot;
}
</pre></div>
  </div>
 </div>
 <p class="para">
  However, there&#039;s another way of using PHP for shell
  scripting. You can write a script where the first line starts with
  <i>#!/usr/bin/php</i>. Following this you can place
  normal PHP code included within the PHP
  starting and end tags. Once you have set the execution attributes of the file
  appropriately (e.g. <strong class="command">chmod +x test</strong>) your script can be
  executed like a normal shell or perl script:
 </p>
 <div class="example">
  <p><b>Example #1 Execute PHP script as shell script</b></p>
  <div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents para"><p>
    Assuming this file is named <var class="filename">test</var> in the current
    directory, we can now do the following:
  </p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
$ chmod +x test
$ ./test -h -- foo
array(4) {
  [0]=&gt;
  string(6) &quot;./test&quot;
  [1]=&gt;
  string(2) &quot;-h&quot;
  [2]=&gt;
  string(2) &quot;--&quot;
  [3]=&gt;
  string(3) &quot;foo&quot;
}
</pre></div>
  </div>
 </div>
 <p class="para">
  As you see, in this case no care needs to be taken when passing parameters
  which start with <i>-</i> to your script.
 </p>
 <p class="para">
  Long options are available since PHP 4.3.3.
  </p><table class="doctable table">
   <caption><b>Command line options</b></caption>
   
    <thead valign="middle">
     <tr valign="middle">
      <th>Option</th>
      <th>Long Option</th>
      <th>Description</th>
     </tr>

    </thead>

    <tbody valign="middle" class="tbody">
     <tr valign="middle">
      <td align="left">-a</td>
      <td align="left">--interactive</td>
      <td align="left">
       <p class="para">
        Runs PHP interactively. If you compile PHP with the <a href="ref.readline.html" class="link">Readline</a> extension (which is not
        available on Windows), you&#039;ll have a nice shell, including a
        completion feature (e.g. you can start typing a variable name, hit the
        TAB key and PHP completes its name) and a typing history that can be
        accessed using the arrow keys. The history is saved in the
        <var class="filename">~/.php_history</var> file.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         Files included through <a href="ini.core.html#ini.auto-prepend-file" class="link">auto_prepend_file</a> and <a href="ini.core.html#ini.auto-append-file" class="link">auto_append_file</a> are parsed in
         this mode but with some restrictions - e.g. functions have to be
         defined before called.
        <br />
       </p></blockquote>
       <blockquote><p><b class="note">Note</b>: 
        
         <a href="language.oop5.autoload.html" class="link">Autoloading</a> is not available if using PHP in CLI
         interactive mode.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-c</td>
      <td align="left">--php-ini</td>
      <td align="left">
       <p class="para">
        This option can either specify a directory where to look for
        <var class="filename">php.ini</var> or specify a custom <i>INI</i> file
        (which does not need to be named <var class="filename">php.ini</var>), e.g.:
       </p>
       <p class="para"></p><div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
$ php -c /custom/directory/ my_script.php

$ php -c /custom/directory/custom-file.ini my_script.php
</pre></div>
        </div>
       </div><p></p>
       <p class="para">
        If you don&#039;t specify this option, file is searched in
        <a href="configuration.file.html" class="link">default locations</a>.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-n</td>
      <td align="left">--no-php-ini</td>
      <td align="left">
       <p class="para">
        Ignore <var class="filename">php.ini</var> at all. This switch is available since PHP 4.3.0.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-d</td>
      <td align="left">--define</td>
      <td align="left">
       <p class="para">
        This option allows you to set a custom value for any of the configuration
        directives allowed in <var class="filename">php.ini</var>. The syntax is:
        <div class="example-contents screen">
<div class="cdata"><pre>
-d configuration_directive[=value]
</pre></div>
        </div>
       </p>
       <p class="para"></p><div class="informalexample">
        <p class="para">
         Examples (lines are wrapped for layout reasons):
        </p>
        <div class="example-contents screen">
<div class="cdata"><pre>
# Omitting the value part will set the given configuration directive to &quot;1&quot;
$ php -d max_execution_time
        -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
string(1) &quot;1&quot;

# Passing an empty value part will set the configuration directive to &quot;&quot;
php -d max_execution_time=
        -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
string(0) &quot;&quot;

# The configuration directive will be set to anything passed after the &#039;=&#039; character
$  php -d max_execution_time=20
        -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
string(2) &quot;20&quot;
$  php
        -d max_execution_time=doesntmakesense
        -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
string(15) &quot;doesntmakesense&quot;
</pre></div>
        </div>
       </div><p></p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-e</td>
      <td align="left">--profile-info</td>
      <td align="left">
       <p class="para">
        Activate the extended information mode, to be used by a
        debugger/profiler.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-f</td>
      <td align="left">--file</td>
      <td align="left">
       <p class="para">
        Parses and executes the given filename to the <span class="option">-f</span>
        option. This switch is optional and can be left out. Only providing
        the filename to execute is sufficient.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         To pass arguments to scripts the first argument needs to be
         <i>--</i>, otherwise PHP will interperate them as PHP
         options.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-h and -?</td>
      <td align="left">--help and --usage</td>
      <td align="left">
       With this option, you can get information about the actual list of
       command line options and some one line descriptions about what they do.
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-i</td>
      <td align="left">--info</td>
      <td align="left">
       This command line option calls <a href="function.phpinfo.html" class="function">phpinfo()</a>, and prints
       out the results. If PHP is not working correctly, it is
       advisable to use <strong class="command">php -i</strong> and see whether any error
       messages are printed out before or in place of the information tables.
       Beware that when using the CGI mode the output is in <acronym title="Hyper Text Markup Language">HTML</acronym> 
       and therefore quite huge.
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-l</td>
      <td align="left">--syntax-check</td>
      <td align="left">
       <p class="para">
        This option provides a convenient way to only perform a syntax check
        on the given PHP code. On success, the text
        <i>No syntax errors detected in &lt;filename&gt;</i> is
        written to standard output and the shell return code is
        <i>0</i>. On failure, the text <i>Errors parsing
        &lt;filename&gt;</i> in addition to the internal parser error
        message is written to standard output and the shell return code is set
        to <i>-1</i>.
       </p>
       <p class="para">
        This option won&#039;t find fatal errors (like undefined functions). Use
        <span class="option">-f</span> if you would like to test for fatal errors too.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         This option does not work together with the <span class="option">-r</span>
         option.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-m</td>
      <td align="left">--modules</td>
      <td align="left">
       <p class="para"></p><div class="informalexample">
        <p class="para">
         Using this option, PHP prints out the built in (and loaded) PHP and
         Zend modules:
        </p>
        <div class="example-contents screen">
<div class="cdata"><pre>
$ php -m
[PHP Modules]
xml
tokenizer
standard
session
posix
pcre
overload
mysql
mbstring
ctype

[Zend Modules]
</pre></div>
        </div>
       </div><p></p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-r</td>
      <td align="left">--run</td>
      <td align="left">
       <p class="para">
        This option allows execution of PHP right from
        within the command line. The PHP start and end tags
        (<i>&lt;?php</i> and <i>?&gt;</i>) are
        <em class="emphasis">not needed</em> and will cause a parser
        error if present.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         Care has to be taken when using this form of PHP
         to not collide with command line variable substitution done by the
         shell.
        <br />
        </p><div class="informalexample">
         <p class="para">
          Example showing a parser error
         </p>
         <div class="example-contents screen">
<div class="cdata"><pre>
$ php -r &quot;$foo = get_defined_constants();&quot;
Command line code(1) : Parse error - parse error, unexpected &#039;=&#039;
</pre></div>
         </div>
        </div><p>
        
         The problem here is that the sh/bash performs variable substitution
         even when using double quotes <i>&quot;</i>. Since the
         variable <var class="varname">$foo</var> is unlikely to be defined, it
         expands to nothing which results in the code passed to
         PHP for execution actually reading:
        <br />
        </p><div class="informalexample">
         <div class="example-contents screen">
<div class="cdata"><pre>
$ php -r &quot; = get_defined_constants();&quot;
</pre></div>
         </div>
         <p class="para">
         The correct way would be to use single quotes <i>&#039;</i>.
         Variables in single-quoted strings are not expanded
         by sh/bash.
         </p>
         <div class="example-contents screen">
<div class="cdata"><pre>
$ php -r &#039;$foo = get_defined_constants(); var_dump($foo);&#039;
array(370) {
  [&quot;E_ERROR&quot;]=&gt;
  int(1)
  [&quot;E_WARNING&quot;]=&gt;
  int(2)
  [&quot;E_PARSE&quot;]=&gt;
  int(4)
  [&quot;E_NOTICE&quot;]=&gt;
  int(8)
  [&quot;E_CORE_ERROR&quot;]=&gt;
  [...]
</pre></div>
         </div>
        </div><p>
        
         If you are using a shell different from sh/bash, you might experience
         further issues. Feel free to open a bug report at
         <a href="http://bugs.php.net/" class="link external">&raquo; http://bugs.php.net/</a>.
         One can still easily run into troubles when trying to get shell
         variables into the code or using backslashes for escaping. You&#039;ve
         been warned.
        <br />
       </p></blockquote>
       <blockquote><p><b class="note">Note</b>: 
        
         <span class="option">-r</span> is available in the <em class="emphasis">CLI</em>
         SAPI and not in the <em class="emphasis">CGI</em> SAPI.
        <br />
       </p></blockquote>
       <blockquote><p><b class="note">Note</b>: 
        
         This option is meant for a very basic stuff. Thus some configuration
         directives (e.g. <a href="ini.core.html#ini.auto-prepend-file" class="link">auto_prepend_file</a> and <a href="ini.core.html#ini.auto-append-file" class="link">auto_append_file</a>) are ignored
         in this mode.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-B</td>
      <td align="left">--process-begin</td>
      <td align="left">
       <p class="para">
        PHP code to execute before processing stdin. Added in PHP 5.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-R</td>
      <td align="left">--process-code</td>
      <td align="left">
       <p class="para">
        PHP code to execute for every input line. Added in PHP 5.
       </p>
       <p class="para">
        There are two special variables available in this mode:
        <var class="varname">$argn</var> and <var class="varname">$argi</var>.
        <var class="varname">$argn</var> will contain the line PHP is processing at
        that moment, while <var class="varname">$argi</var> will contain the line
        number.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-F</td>
      <td align="left">--process-file</td>
      <td align="left">
       <p class="para">
        PHP file to execute for every input line. Added in PHP 5.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-E</td>
      <td align="left">--process-end</td>
      <td align="left">
       <p class="para">
        PHP code to execute after processing the input. Added in PHP 5.
       </p>
       <p class="para"></p><div class="example">
        <p><b>Example #2 Using the <span class="option">-B</span>, <span class="option">-R</span> and
         <span class="option">-E</span> options to count the number of lines of a
         project.
        </b></p>
        <div class="example-contents screen">
<div class="cdata"><pre>
$ find my_proj | php -B &#039;$l=0;&#039; -R &#039;$l += count(@file($argn));&#039; -E &#039;echo &quot;Total Lines: $l\n&quot;;&#039;
Total Lines: 37328
</pre></div>
        </div>
       </div><p></p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-s</td>
      <td align="left">--syntax-highlight and --syntax-highlighting</td>
      <td align="left">
       <p class="para">
        Display colour syntax highlighted source.
       </p>
       <p class="para">
        This option uses the internal mechanism to parse the file and produces
        a HTML highlighted version of it and writes it to
        standard output. Note that all it does it to generate a block of
        <i>&lt;code&gt; [...] &lt;/code&gt;</i>
        HTML tags, no HTML headers.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         This option does not work together with the <span class="option">-r</span>
         option.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-v</td>
      <td align="left">--version</td>
      <td align="left">
       <p class="para"></p><div class="informalexample">
        <p class="para">
         Writes the PHP, PHP SAPI, and Zend version to standard output, e.g.
        </p>
        <div class="example-contents screen">
<div class="cdata"><pre>
$ php -v
PHP 4.3.0 (cli), Copyright (c) 1997-2002 The PHP Group
Zend Engine v1.3.0, Copyright (c) 1998-2002 Zend Technologies
</pre></div>
        </div>
       </div><p></p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-w</td>
      <td align="left">--strip</td>
      <td align="left">
       <p class="para">
        Display source with stripped comments and whitespace.
       </p>
       <blockquote><p><b class="note">Note</b>: 
        
         This option does not work together with the <span class="option">-r</span>
         option.
        <br />
       </p></blockquote>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">-z</td>
      <td align="left">--zend-extension</td>
      <td align="left">
       <p class="para">
        Load Zend extension. If only a filename is given, PHP tries to load
        this extension from the current default library path on your system
        (usually specified <var class="filename">/etc/ld.so.conf</var> on Linux
        systems).  Passing a filename with an absolute path information will
        not use the systems library search path. A relative filename with a
        directory information will tell PHP only to try to
        load the extension relative to the current directory.
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td class="empty">&nbsp;</td>
      <td align="left">--ini</td>
      <td align="left">
       <p class="para">
        Shows configuration file names and scanned directories. Available as
        of PHP 5.2.3.
        </p><div class="example">
         <p><b>Example #3 <i>--ini</i> example</b></p>
         <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">$ php --ini
Configuration File (php.ini) Path: /usr/dev/php/5.2/lib
Loaded Configuration File:         /usr/dev/php/5.2/lib/php.ini
Scan for additional .ini files in: (none)
Additional .ini files parsed:      (none)</pre>
</div>
         </div>

        </div><p>
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">--rf</td>
      <td align="left">--rfunction</td>
      <td align="left">
       <p class="para">
        Shows information about the given function or class method (e.g.
        number and name of the parameters). Available as of PHP 5.1.2.
       </p>
       <p class="para">
        This option is only available if PHP was compiled with
        <a href="language.oop5.reflection.html" class="link">Reflection</a> support.
       </p>
       <p class="para">
        </p><div class="example">
         <p><b>Example #4 basic <i>--rf</i> usage</b></p>
         <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">$ php --rf var_dump
Function [ &lt;internal&gt; public function var_dump ] {

  - Parameters [2] {
    Parameter #0 [ &lt;required&gt; $var ]
    Parameter #1 [ &lt;optional&gt; $... ]
  }
}</pre>
</div>
         </div>

        </div><p>
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">--rc</td>
      <td align="left">--rclass</td>
      <td align="left">
       <p class="para">
        Show information about the given class (list of constants, properties
        and methods). Available as of PHP 5.1.2.
       </p>
       <p class="para">
        This option is only available if PHP was compiled with
        <a href="language.oop5.reflection.html" class="link">Reflection</a> support.
       </p>
       <p class="para">
        </p><div class="example">
         <p><b>Example #5 <i>--rc</i> example</b></p>
         <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">$ php --rc Directory
Class [ &lt;internal:standard&gt; class Directory ] {

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [0] {
  }

  - Methods [3] {
    Method [ &lt;internal&gt; public method close ] {
    }

    Method [ &lt;internal&gt; public method rewind ] {
    }

    Method [ &lt;internal&gt; public method read ] {
    }
  }
}</pre>
</div>
         </div>

        </div><p>
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">--re</td>
      <td align="left">--rextension</td>
      <td align="left">
       <p class="para">
        Show information about the given extension (list of <var class="filename">php.ini</var> options,
        defined functions, constants and classes). Available as of PHP 5.1.2.
       </p>
       <p class="para">
        This option is only available if PHP was compiled with
        <a href="language.oop5.reflection.html" class="link">Reflection</a> support.
       </p>
       <p class="para">
        </p><div class="example">
         <p><b>Example #6 <i>--re</i> example</b></p>
         <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">$ php --re json
Extension [ &lt;persistent&gt; extension #19 json version 1.2.1 ] {

  - Functions {
    Function [ &lt;internal&gt; function json_encode ] {
    }
    Function [ &lt;internal&gt; function json_decode ] {
    }
  }
}</pre>
</div>
         </div>

        </div><p>
       </p>
      </td>
     </tr>

     <tr valign="middle">
      <td align="left">--ri</td>
      <td align="left">--rextinfo</td>
      <td align="left">
       <p class="para">
        Shows the configuration information for the given extension (the same
        information that is returned by <a href="function.phpinfo.html" class="function">phpinfo()</a>).
        Available as of PHP 5.2.2. The core configuration information
        are available using &quot;main&quot; as extension name.
       </p>
       <p class="para">
        </p><div class="example">
         <p><b>Example #7 <i>--ri</i> example</b></p>
         <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">$ php --ri date

date

date/time support =&gt; enabled
&quot;Olson&quot; Timezone Database Version =&gt; 2007.5
Timezone Database =&gt; internal
Default timezone =&gt; Europe/Oslo

Directive =&gt; Local Value =&gt; Master Value
date.timezone =&gt; Europe/Oslo =&gt; Europe/Oslo
date.default_latitude =&gt; 59.22482 =&gt; 59.22482
date.default_longitude =&gt; 11.018084 =&gt; 11.018084
date.sunset_zenith =&gt; 90.583333 =&gt; 90.583333
date.sunrise_zenith =&gt; 90.583333 =&gt; 90.583333</pre>
</div>
         </div>

        </div><p>
       </p>
      </td>
     </tr>

    </tbody>
   
  </table>
<p>
 </p>

 <p class="para">
  The PHP executable can be used to run PHP scripts absolutely independent
  from the web server. If you are on a Unix system, you should add a special
  first line to your PHP script, and make it executable, so the system will
  know, what program should run the script. On a Windows platform you can
  associate <var class="filename">php.exe</var> with the double click option of the
  <i>.php</i> files, or you can make a batch
  file to run the script through PHP. The first line added to the script to
  work on Unix won&#039;t hurt on Windows, so you can write cross platform programs
  this way. A simple example of writing a command line PHP program can be
  found below.
 </p>
 <p class="para">
  </p><div class="example">
   <p><b>Example #8 Script intended to be run from command line (script.php)</b></p>
   <div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$argc&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],&nbsp;array(</span><span style="color: #DD0000">'--help'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-help'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-h'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-?'</span><span style="color: #007700">)))&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />This&nbsp;is&nbsp;a&nbsp;command&nbsp;line&nbsp;PHP&nbsp;script&nbsp;with&nbsp;one&nbsp;option.<br /><br />&nbsp;&nbsp;Usage:<br />&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;&lt;option&gt;<br /><br />&nbsp;&nbsp;&lt;option&gt;&nbsp;can&nbsp;be&nbsp;some&nbsp;word&nbsp;you&nbsp;would&nbsp;like<br />&nbsp;&nbsp;to&nbsp;print&nbsp;out.&nbsp;With&nbsp;the&nbsp;--help,&nbsp;-help,&nbsp;-h,<br />&nbsp;&nbsp;or&nbsp;-?&nbsp;options,&nbsp;you&nbsp;can&nbsp;get&nbsp;this&nbsp;help.<br /><br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div><p>
 </p>
 <p class="para">
  In the script above, we used the special first line to indicate
  that this file should be run by PHP. We work with a CLI version
  here, so there will be no HTTP header printouts. There are two
  variables you can use while writing command line applications with
  PHP: <var class="varname"><a href="reserved.variables.argc.html" class="classname">$argc</a></var> and <var class="varname"><a href="reserved.variables.argv.html" class="classname">$argv</a></var>. The
  first is the number of arguments plus one (the name of the script
  running). The second is an array containing the arguments, starting
  with the script name as number zero (<var class="varname"><a href="reserved.variables.argv.html" class="classname">$argv[0]</a></var>).
 </p>
 <p class="para">
  In the program above we checked if there are less or more than one
  arguments. Also if the argument was <span class="option">--help</span>,
  <span class="option">-help</span>, <span class="option">-h</span> or <span class="option">-?</span>,
  we printed out the help message, printing the script name dynamically.
  If we received some other argument we echoed that out.
 </p>
 <p class="para">
  If you would like to run the above script on Unix, you need to
  make it executable, and simply call it as
  <strong class="command">script.php echothis</strong> or
  <strong class="command">script.php -h</strong>. On Windows, you can make a
  batch file for this task:
 </p>
 <p class="para">
  </p><div class="example">
   <p><b>Example #9 Batch file to run a command line PHP script (script.bat)</b></p>
   <div class="example-contents programlisting">
<div class="shellcode"><pre class="shellcode">@C:\php\php.exe script.php %1 %2 %3 %4</pre>
</div>
   </div>

  </div><p>
 </p>
 <p class="para">
  Assuming you named the above program
  <var class="filename">script.php</var>, and you have your
  CLI <var class="filename">php.exe</var> in
  <var class="filename">C:\php\php.exe</var> this batch file
  will run it for you with your added options:
  <strong class="command">script.bat echothis</strong> or
  <strong class="command">script.bat -h</strong>.
 </p>
 <p class="para">
  See also the <a href="ref.readline.html" class="link">Readline</a>
  extension documentation for more functions you can use
  to enhance your command line applications in PHP.
 </p>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.safe-mode.functions.html">Functions restricted/disabled by safe mode</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="funcref.html">Function Reference</a></div>
 <div class="up"><a href="features.html">Features</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
