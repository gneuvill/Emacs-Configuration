<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Manual Installation Steps</title>
 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.installer.msi.html">Windows Installer (PHP 5.2 and later)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.activescript.html">ActiveScript</a></div>
 <div class="up"><a href="install.windows.html">Installation on Windows systems</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="install.windows.manual" class="sect1">
    <h2 class="title">Manual Installation Steps</h2>
    
    <p class="para">
     This install guide will help you manually install and configure PHP with
     a web server on Microsoft Windows.  To get started you&#039;ll need to download 
     the zip binary distribution from the downloads page at
     <a href="http://www.php.net/downloads.php" class="link external">&raquo; http://www.php.net/downloads.php</a>.
    </p>
    
    <p class="para">
     Although there are many all-in-one installation kits, and we also 
     distribute a PHP installer for Microsoft Windows, we recommend you take 
     the time to setup PHP yourself as this will provide you with a better 
     understanding of the system, and enables you to install PHP extensions 
     easily when needed.
    </p>
    
    <blockquote><p><b class="note">Note</b>: 
     <b>Upgrading from a previous PHP version</b><br />
     
      Previous editions of the manual suggest moving various ini and 
      <acronym title="Dynamic Link Library">DLL</acronym> files into your SYSTEM (i.e. 
      <var class="filename">C:\WINDOWS</var>) folder and while this 
      simplifies the installation procedure it makes upgrading difficult.  We 
      advise you remove all of these files (like <var class="filename">php.ini</var> and PHP related
      DLLs from the Windows SYSTEM folder) before moving on with a new 
      PHP installation.  Be sure to backup these files as you might break the
      entire system.  The old <var class="filename">php.ini</var> might be useful in setting up the new
      PHP as well.  And as you&#039;ll soon learn, the preferred method for 
      installing PHP is to keep all PHP related files in one directory and
      have this directory available to your systems PATH.
     <br />
    </p></blockquote>
    
    <blockquote><p><b class="note">Note</b>: 
     <b>MDAC requirements</b><br />
     
      If you use Microsoft <em class="emphasis">Windows 98/NT4</em> download the
      latest version of the Microsoft Data Access Components (MDAC) for your
      platform. MDAC is available at <a href="http://msdn.microsoft.com/data/" class="link external">&raquo; http://msdn.microsoft.com/data/</a>.
      This requirement exists because <a href="ref.uodbc.html" class="link">ODBC</a> is
      built into the distributed Windows binaries.
     <br />
    </p></blockquote>
    
    <p class="para">
     The following steps should be completed on all installations before any
     server specific instructions are performed:
    </p>
    <p class="para">
     Extract the distribution file into a directory of your choice. If you
     are installing PHP 4, extract to <var class="filename">C:\</var>, as the zip file expands to a
     foldername like <var class="filename">php-4.3.7-Win32</var>. If you are
     installing PHP 5, extract to <var class="filename">C:\php</var> as the zip file doesn&#039;t expand as in
     PHP 4. You may choose a different location but do not have spaces in the
     path (like <var class="filename">C:\Program Files\PHP</var>)
     as some web servers will crash if you do.
    </p>
    <p class="para">
     The directory structure extracted from the zip is different for PHP 
     versions 4 and 5 and look like as follows:
    </p>
    <div class="example">
     <p><b>Example #1 PHP 4 package structure</b></p>
     <div class="example-contents programlisting">
<div class="cdata"><pre>

c:\php
   |
   +--cli
   |  |
   |  |-php.exe           -- CLI executable - ONLY for command line scripting
   |
   +--dlls                -- support DLLs required by some extensions
   |  |
   |  |-expat.dll
   |  |
   |  |-fdftk.dll
   |  |
   |  |-...
   |
   +--extensions          -- extension DLLs for PHP
   |  |
   |  |-php_bz2.dll
   |  |
   |  |-php_cpdf.dll
   |  |
   |  |-...
   |
   +--mibs                -- support files for SNMP
   |
   +--openssl             -- support files for Openssl
   |
   +--pdf-related         -- support files for PDF
   |
   +--sapi                -- SAPI (server module support) DLLs
   |  |
   |  |-php4apache.dll
   |  |
   |  |-php4apache2.dll
   |  |
   |  |-...
   |
   +--PEAR                -- initial copy of PEAR
   |
   |
   |-go-pear.bat          -- PEAR setup script
   |
   |-...
   |
   |-php.exe              -- CGI executable
   |
   |-...
   |
   |-php.ini-dist         -- default php.ini settings
   |
   |-php.ini-recommended  -- recommended php.ini settings
   | 
   |-php4ts.dll           -- core PHP DLL
   | 
   |-...

</pre></div>
     </div>

    </div> 
    <p class="para">
    Or:
    </p>
    <div class="example">
     <p><b>Example #2 PHP 5 package structure</b></p>
     <div class="example-contents programlisting">
<div class="cdata"><pre>

c:\php
   |
   +--dev
   |  |
   |  |-php5ts.lib
   |
   +--ext                 -- extension DLLs for PHP
   |  |
   |  |-php_bz2.dll
   |  |
   |  |-php_cpdf.dll
   |  |
   |  |-...
   |
   +--extras
   |  |
   |  +--mibs             -- support files for SNMP
   |  |
   |  +--openssl          -- support files for Openssl
   |  |
   |  +--pdf-related      -- support files for PDF
   |  |
   |  |-mime.magic
   |
   +--pear                -- initial copy of PEAR
   |
   |
   |-go-pear.bat          -- PEAR setup script
   |
   |-fdftk.dll
   |
   |-...
   |
   |-php-cgi.exe          -- CGI executable
   |
   |-php-win.exe          -- executes scripts without an opened command prompt
   |
   |-php.exe              -- CLI executable - ONLY for command line scripting
   |
   |-...
   |
   |-php.ini-dist         -- default php.ini settings
   |
   |-php.ini-recommended  -- recommended php.ini settings
   | 
   |-php5activescript.dll
   |
   |-php5apache.dll
   |
   |-php5apache2.dll
   |
   |-...
   |
   |-php5ts.dll           -- core PHP DLL
   | 
   |-...

</pre></div>
     </div>

    </div> 
    <p class="para">
     Notice the differences and similarities.  Both PHP 4 and PHP 5 have a 
     <acronym title="Common Gateway Interface">CGI</acronym> executable, a <acronym title="Command Line Interpreter/Interface">CLI</acronym> executable,
     and server modules, but they are located in different folders and/or have
     different names.  While PHP 4 packages have the server modules in the 
     <var class="filename">sapi</var> folder, PHP 5 
     distributions have no such directory and instead they&#039;re in the PHP
     folder root. The supporting DLLs for the PHP 5 extensions are also not
     in a seperate directory.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      In PHP 4, you should move all files located in the <var class="filename">dll</var> and <var class="filename">sapi</var> folders to the main folder (e.g.
      <var class="filename">C:\php</var>).
     <br />
    </p></blockquote>
    <p class="para">
     Here is a list of server modules shipped with PHP 4 and PHP 5:
     </p><ul class="itemizedlist">
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4activescript.dll (php5activescript.dll)</var>
       - <a href="install.windows.activescript.html" class="link">ActiveScript
        engine</a>, allowing you to embed PHP in your Windows
       applications.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4apache.dll (php5apache.dll)</var> - Apache 1.3.x module.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4apache2.dll (php5apache2.dll)</var> - Apache 2.0.x module.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php5apache2_2.dll</var> - Apache 2.2.x module.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4isapi.dll (php5isapi.dll)</var> - ISAPI Module
       for ISAPI compliant web servers like IIS 4.0/PWS 4.0 or newer.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4nsapi.dll (php5nsapi.dll)</var> - Sun/iPlanet/Netscape
       server module.
      </p></li>
      <li class="listitem"><p class="para">
       <var class="filename">sapi/php4pi3web.dll (no equivalent in PHP 5)</var> - Pi3Web server module.
      </p></li>
       
     </ul><p>
    </p>
    <p class="para">
     Server modules provide significantly better performance and additional 
     functionality compared to the CGI binary. The CLI version is designed to
     let you use PHP for command line scripting. More information about CLI is
     available in the chapter about <a href="features.commandline.html" class="link">using
     PHP from the command line</a>.
    </p>
    <div class="warning"><b class="warning">Warning</b>
     <p class="simpara">
      The SAPI modules have been significantly improved as of the 4.1 release,
      however, in older systems you may encounter server errors or other
      server modules failing, such as ASP.
     </p>
    </div>
    <p class="para">
     The CGI and CLI binaries, and the web server modules all require the
     <var class="filename">php4ts.dll</var> (<var class="filename">php5ts.dll</var>) file to
     be available to them. You have to make sure that this file can be found
     by your PHP installation. The search order for this DLL is as follows:
     </p><ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        The same directory from where <var class="filename">php.exe</var> is called,
        or in case you use a SAPI module, the web server&#039;s directory (e.g.
        <var class="filename">C:\Program Files\Apache Group\Apache2\bin</var>).
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Any directory in your Windows <var class="varname">PATH</var> environment
        variable.
       </p>
      </li>
     </ul><p>
    </p>
    <p class="para">
     To make <var class="filename">php4ts.dll</var> / <var class="filename">php5ts.dll</var>
     available you have three options: copy the file to the Windows system
     directory, copy the file to the web server&#039;s directory, or add your PHP
     directory, <var class="filename">C:\php</var> to the
     <var class="varname">PATH</var>. For better maintenance, we advise you to follow
     the last option, add <var class="filename">C:\php</var> to the
     <var class="varname">PATH</var>, because it will be simpler to upgrade PHP in the
     future. Read more about how to add your PHP directory to
     <var class="varname">PATH</var> in the <a href="faq.installation.html#faq.installation.addtopath" class="link">corresponding FAQ entry</a> (and
      then don&#039;t forget to restart the computer - logoff isn&#039;t enough).
    </p>
    <p class="para">
     The next step is to set up a valid configuration file for PHP, <var class="filename">php.ini</var>.
     There are two ini files distributed in the zip file,
     <var class="filename">php.ini-dist</var> and
     <var class="filename">php.ini-recommended</var>. We advise you to use
     <var class="filename">php.ini-recommended</var>, because we optimized the
     default settings in this file for performance, and security. Read this
     well documented file carefully because it has changes from
     <var class="filename">php.ini-dist</var> that will drastically affect your 
     setup.  Some examples are <a href="errorfunc.configuration.html#ini.display-errors" class="link">
     display_errors</a> being <i>off</i> and 
     <a href="info.configuration.html#ini.magic-quotes-gpc" class="link">magic_quotes_gpc</a> being
     <i>off</i>.  In addition to reading these, study the <a href="configuration.file.html" class="link">ini settings</a> and set every element
     manually yourself. If you would like to achieve the best security, then
     this is the way for you, although PHP works fine with these default ini
     files. Copy your chosen ini-file to a directory that PHP is able to find
     and rename it to <var class="filename">php.ini</var>. PHP searches for <var class="filename">php.ini</var> in the locations
     described in <a href="configuration.file.html" class="xref">The configuration file</a> section.
    </p>
    <p class="para">
     If you are running Apache 2, the simpler option is to use the PHPIniDir
     directive (read the <a href="install.windows.apache2.html" class="link">installation
     on Apache 2</a> page), otherwise your best option is to set the
     <var class="varname">PHPRC</var> environment variable. This process is explained
     in the following <a href="faq.installation.html#faq.installation.phprc" class="link">FAQ entry</a>.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     <span class="simpara">
      If you&#039;re using NTFS on Windows NT, 2000, XP or 2003, make sure that the
      user running the web server has read permissions to your <var class="filename">php.ini</var> (e.g.
      make it readable by Everyone).
     </span>
    </p></blockquote>
    <p class="para">
     The following steps are optional:
     </p><ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Edit your new <var class="filename">php.ini</var> file.       
        If you plan to use <a href="install.windows.omnihttpd.html" class="link">OmniHTTPd</a>,
        do not follow the next step. Set the
        <a href="ini.core.html#ini.doc-root" class="link">doc_root</a> to point to your 
        web servers document_root. For example:
        </p><div class="informalexample">
          <div class="example-contents programlisting">
<div class="inicode"><pre class="inicode">doc_root = c:\inetpub\wwwroot // for IIS/PWS

doc_root = c:\apache\htdocs // for Apache</pre>
</div>
         </div>

        </div><p>
       </p>
      </li>
      <li class="listitem">
       <span class="simpara">
        Choose the extensions you would like to load when PHP starts. See
        the section about
        <a href="install.windows.extensions.html" class="link">Windows extensions</a>,
        about how to set up one, and what is already built in. Note that on
        a new installation it is advisable to first get PHP working and tested
        without any extensions before enabling them in <var class="filename">php.ini</var>.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        On PWS and IIS, you can set the
        <a href="misc.configuration.html#ini.browscap" class="link">browscap</a> configuration setting
        to point to:
        <var class="filename">c:\windows\system\inetsrv\browscap.ini</var> on
        Windows 9x/Me,
        <var class="filename">c:\winnt\system32\inetsrv\browscap.ini</var> on
        NT/2000, and
        <var class="filename">c:\windows\system32\inetsrv\browscap.ini</var>
        on XP.  For an up-to-date <var class="filename">browscap.ini</var>, read the
        following <a href="faq.obtaining.html#faq.obtaining.browscap" class="link">FAQ</a>.
       </span>
      </li>
     </ul><p>
    </p> 
    <p class="para">
     PHP is now setup on your system.  The next step is to choose a web
     server, and enable it to run PHP.  Choose a web server from the table of 
     contents.
    </p>
   </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.installer.msi.html">Windows Installer (PHP 5.2 and later)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.activescript.html">ActiveScript</a></div>
 <div class="up"><a href="install.windows.html">Installation on Windows systems</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
