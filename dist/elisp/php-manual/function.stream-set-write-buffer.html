<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Sets file buffering on the given stream</title>
 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.stream-set-timeout.html">stream_set_timeout</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.stream-socket-accept.html">stream_socket_accept</a></div>
 <div class="up"><a href="ref.stream.html">Stream Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.stream-set-write-buffer" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">stream_set_write_buffer</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5)</p><p class="refpurpose"><span class="refname">stream_set_write_buffer</span> &mdash; <span class="dc-title">Sets file buffering on the given stream</span></p>

 </div>
 <a name="function.stream-set-write-buffer.description"></a><div class="refsect1 description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>stream_set_write_buffer</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$stream</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$buffer</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Sets the buffering for write operations on the given <i><tt class="parameter">stream</tt></i>

   to <i><tt class="parameter">buffer</tt></i>
 bytes.
  </p>
  <p class="simpara">
   Output using <a href="function.fwrite.html" class="function">fwrite()</a> is normally buffered at
   8K.  This means that if there are two processes wanting to write
   to the same output stream (a file), each is paused after 8K of
   data to allow the other to write.
  </p>
 </div>


 <a name="function.stream-set-write-buffer.parameters"></a><div class="refsect1 parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    <dt class="varlistentry">

     <span class="term"><i><tt class="parameter">stream</tt></i>
</span>

     </dt><dd class="listitem">

      <p class="para">
       The file pointer.
      </p>
     </dd>

    
    <dt class="varlistentry">

     <span class="term"><i><tt class="parameter">buffer</tt></i>
</span>

     </dt><dd class="listitem">

      <p class="para">
       The number of bytes to buffer. If <i><tt class="parameter">buffer</tt></i>

       is 0 then write operations are unbuffered.  This ensures that all writes
       with <a href="function.fwrite.html" class="function">fwrite()</a> are completed before other processes are
       allowed to write to that output stream.
      </p>
     </dd>

    
   </dl>
<p>
  </p>
 </div>


 <a name="function.stream-set-write-buffer.returnvalues"></a><div class="refsect1 returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns 0 on success, or <acronym title="End Of File">EOF</acronym> if the request cannot be honored.
  </p>
 </div>


 <a name="function.stream-set-write-buffer.examples"></a><div class="refsect1 examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example">
    <p><b>Example #1 <b>stream_set_write_buffer()</b> example</b></p>
    <div class="example-contents para"><p>
     The following example demonstrates how to use
     <b>stream_set_write_buffer()</b> to create an unbuffered stream.
    </p></div>
    <div class="example-contents programlisting">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">stream_set_write_buffer</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$output</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div><p>
  </p>
 </div>


 <a name="function.stream-set-write-buffer.seealso"></a><div class="refsect1 seealso">
  <h3 class="title">See Also</h3>
  <ul class="simplelist">
   <li class="member"><a href="function.fopen.html" class="function" rel="rdfs-seeAlso">fopen()</a> - Opens file or URL</li>
   <li class="member"><a href="function.fwrite.html" class="function" rel="rdfs-seeAlso">fwrite()</a> - Binary-safe file write</li>
  </ul>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.stream-set-timeout.html">stream_set_timeout</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.stream-socket-accept.html">stream_socket_accept</a></div>
 <div class="up"><a href="ref.stream.html">Stream Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
